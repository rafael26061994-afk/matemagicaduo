<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Matem√°gica - Jogo da Matem√°tica</title>
    <link rel="stylesheet" href="style.css">
    <link rel="manifest" href="manifest.webmanifest">
</head>
<body class="light-mode">

    <span id="libras-alert" class="libras-alert hidden"></span>

    <div id="confetti-container"></div>
    <div id="feedback-message" class="feedback-message hidden"></div>

    <div class="container">
        
        
        <div id="home-screen" class="screen active">
            <header class="home-header">
                <img src="Sem titulo.png" alt="Logo do Projeto" id="main-logo">
            </header>

            <section class="info-card hero-card" aria-label="Continuar campanha">
                <div class="hero-row">
                    <div class="hero-text">
                        <h2 class="hero-title">Continuar campanha</h2>
                        <p id="home-campaign-sub" class="hero-sub">Escolha uma campanha para come√ßar.</p>
                    </div>
                    <button id="btn-continue-campaign" class="main-btn cta-btn" type="button">‚ñ∂ Continuar</button>
                </div>

                <div class="daily-goal">
                    <div class="daily-row">
                        <span id="daily-progress-text" class="daily-text">Meta do dia: 0/10</span>
                        <span id="streak-text" class="pill">Sequ√™ncia: 0</span>
                    </div>
                    <div class="bar" aria-hidden="true">
                        <div id="daily-progress-bar" class="bar-fill" style="width:0%"></div>
                    </div>
                </div>
            </section>

            <div class="quick-actions" aria-label="Atalhos">
                <button id="btn-open-campaign" class="quick-btn" type="button">üó∫Ô∏è Campanha</button>
                <button id="btn-open-review" class="quick-btn" type="button">üß† Revis√£o do dia</button>
                <button id="btn-minigame-day" class="quick-btn" type="button">‚ö° Minigame 3 min</button>
            </div>

            <section class="info-card missions-card" aria-label="Miss√µes de 5 minutos">
                <div class="missions-head">
                    <h3 class="missions-title">Miss√µes de 5 minutos</h3>
                    <span id="missions-status" class="pill">Hoje: 0/1</span>
                </div>
                <p class="muted">Const√¢ncia vence for√ßa bruta. Escolha <strong>1 miss√£o por dia</strong> (5 min) para manter a sequ√™ncia.</p>
                <div class="missions-grid">
                    <button id="mission-review" class="mission-btn" type="button">üß† Revis√£o inteligente (5 min)</button>
                    <button id="mission-forge" class="mission-btn" type="button">üî• Forja do dia (5 min)</button>
                    <button id="mission-combo" class="mission-btn" type="button">‚öîÔ∏è Combo t√°tico (5 min)</button>
                </div>
                <p class="tiny muted" id="missions-tip">Base: mesma opera√ß√£o (sem confus√£o). Refor√ßo: mistura estrat√©gica (pesos).</p>
            </section>

            <section class="info-card campaign-picker" aria-label="Escolha de campanha">
                <div class="tabs" role="tablist" aria-label="Campanhas">
                    <button id="campaign-pick-base" class="tab-btn active" type="button" role="tab" aria-selected="true">Base (6¬∫‚Äì7¬∫)</button>
                    <button id="campaign-pick-reforco" class="tab-btn" type="button" role="tab" aria-selected="false">Refor√ßo (8¬∫‚Äì9¬∫)</button>
                </div>
                <p class="muted">Li√ß√µes curtas, progresso claro e revis√£o inteligente.</p>
            </section>

            <section class="section">
                <div class="section-head">
                    <h3 class="section-title">Modo livre</h3>
                    <p class="section-sub">Escolha uma opera√ß√£o e treine no seu ritmo.</p>
                </div>

                <div class="operation-grid">
                    <button class="operation-card" data-operation="addition" type="button"><h3>Adi√ß√£o (+)</h3></button>
                    <button class="operation-card" data-operation="subtraction" type="button"><h3>Subtra√ß√£o (-)</h3></button>
                    <button class="operation-card" data-operation="multiplication" type="button"><h3>Multiplica√ß√£o (x)</h3></button>
                    <button class="operation-card" data-operation="division" type="button"><h3>Divis√£o (√∑)</h3></button>
                    <button class="operation-card" data-operation="potenciacao" type="button"><h3>Potencia√ß√£o (a‚Åø)</h3></button>
                    <button class="operation-card" data-operation="radiciacao" type="button"><h3>Radicia√ß√£o (‚àö)</h3></button>
                </div>
            </section>

            <section class="section">
                <div class="section-head">
                    <h3 class="section-title">Ferramentas</h3>
                    <p class="section-sub">Resultados e acompanhamento sem complica√ß√£o.</p>
                </div>

                <button id="btn-show-ranking" class="main-btn" type="button">üèÜ Ver Recordes</button>
                <a class="main-btn link-btn" href="relatorio.html">üìÑ Relat√≥rio do estudante</a>
                <a class="main-btn link-btn" href="professor.html">üë©‚Äçüè´ Painel do professor</a>
            </section>

            <details class="about-details">
                <summary>Sobre o PET</summary>
                <div class="info-card about-card">
                    <h2 class="centered-title">PET ‚Äî Programa de Estudo da Tabuada</h2>

<p><strong>Aprender matem√°tica com jogos, tecnologia e inclus√£o de verdade.</strong></p>

<p>
    O Projeto PET nasceu em um encontro pedag√≥gico da rede municipal de Contagem/MG, a partir de uma constata√ß√£o simples:
    muitos estudantes at√© ‚Äúdecoram‚Äù, mas n√£o dominam a tabuada (e outros conte√∫dos) com seguran√ßa.
    O que come√ßou como uma ideia leve evoluiu para uma proposta s√≥lida, criada para engajar, dar autonomia e respeitar o ritmo de cada estudante.
</p>

<p>
    Idealizado pelos professores <strong>Rafael Oliveira</strong> e <strong>Ronaldo Soares</strong>, o PET une compet√™ncias complementares:
</p>

<p><strong>Rafael Oliveira</strong> ‚Äî foco em autonomia, IA aplicada √† educa√ß√£o e acessibilidade</p>
<p><strong>Ronaldo Soares</strong> ‚Äî criatividade, sensibilidade pedag√≥gica e abordagem l√∫dica</p>

<h3>Objetivo do PET</h3>
<p>
    Estimular o aprendizado de conte√∫dos de Matem√°tica por meio de jogos, tornando o estudo mais participativo, consistente e motivador ‚Äî sem infantilizar.
</p>

<h3>Inclus√£o no centro (n√£o como detalhe)</h3>
<p>
    No PET, inclus√£o n√£o √© ‚Äútema‚Äù: √© pilar. A viv√™ncia pessoal de Rafael com a monoparesia orienta escolhas concretas para que o aprendizado seja mais acess√≠vel,
    mais humano e mais democr√°tico ‚Äî com tecnologia usada como ponte, n√£o como barreira.
</p>

<h3>Onde acontece</h3>
<p>
    <strong>Escola Municipal Vereador Jos√© Ferreira de Aguiar</strong><br>
    Bairro Icaivera ‚Äî Contagem/MG
</p>

<div class="objectives">
    <h3>Nossos eixos</h3>
    <ul>
        <li>Matem√°tica em Jogo: aprendizagem ativa, l√∫dica e envolvente</li>
        <li>Racioc√≠nio L√≥gico: pensamento estrat√©gico e resolu√ß√£o de problemas</li>
        <li>Inclus√£o Radical: valoriza√ß√£o das singularidades de cada estudante</li>
        <li>Tecnologia √âtica: IA como suporte ao desenvolvimento humano, com responsabilidade</li>
    </ul>
                </div>
            </details>

            <section class="section">
                <div class="section-head">
                    <h3 class="section-title">Configura√ß√µes</h3>
                    <p class="section-sub">Ajuste o app ao seu jeito.</p>
                </div>

                <div class="ui-prefs">
                    <button id="btn-text-smaller" class="setting-btn" type="button"><span class="icon">A-</span> Texto</button>
                    <button id="btn-text-bigger" class="setting-btn" type="button"><span class="icon">A+</span> Texto</button>
                    <button id="toggle-high-contrast" class="setting-btn" type="button"><span class="icon">‚óê</span> Alto Contraste</button>
                    <button id="toggle-reduce-motion" class="setting-btn" type="button"><span class="icon">‚è∏</span> Reduzir Movimento</button>
                    <button id="toggle-layout-mode" class="setting-btn" type="button"><span class="icon">üì±</span> Layout: Auto</button>
                    <button id="toggle-mentors" class="setting-btn" type="button"><span class="icon">üí¨</span> Mentores</button>
                </div>

                <div class="settings-bar">
                <button id="toggle-night-mode" class="setting-btn">
                    <span class="icon">üåô</span> Modo Noite
                </button>
                <div class="modes-toggle">
                    Modo:
                    <button id="mode-rapido" class="mode-btn active">R√°pido</button>
                    <button id="mode-estudo" class="mode-btn">Estudo</button>
                </div>
            </div>

            <div class="accessibility-bar">
                <span class="access-title">Acessibilidade:</span>
                <button id="toggle-voice-read" class="setting-btn toggle-access">
                    <span class="icon">üîä</span> Leitura de Voz
                </button>
                <button id="toggle-libras" class="setting-btn toggle-access">
                    <span class="icon">ü§ü</span> Modo Libras
                </button>
            </div>
            </section>

            <section class="section mentors-section">
                <div class="section-head">
                    <h3 class="section-title">Mentores</h3>
                    <p class="section-sub">Falas curtas (opcionais) para guiar o treino.</p>
                </div>

                <div id="creators-section">
                <h3>Criado por:</h3>
                <div class="creators-grid">
                    <div class="creator-card">
                        <img src="ronaldo.png" alt="Avatar de Ronaldo" class="avatar"> 
                        <p>Prof.: Ronaldo Soares</p>
                    </div>
                    <div class="creator-card">
                        <img src="rafael.png" alt="Avatar de Rafael" class="avatar">
                        <p>Prof.: Rafael Oliveira</p>
                    </div>
                </div>
            </div>
            </section>
        </div>

        <div id="campaign-screen" class="screen">
            <header class="game-header">
                <button class="btn-secondary btn-voltar-home" type="button">Voltar</button>
                <h1 id="campaign-title">Campanha</h1>
            </header>

            <div class="info-card campaign-top">
                <div class="tabs" role="tablist" aria-label="Campanhas">
                    <button id="campaign-tab-base" class="tab-btn active" type="button" role="tab" aria-selected="true">Base (6¬∫‚Äì7¬∫)</button>
                    <button id="campaign-tab-reforco" class="tab-btn" type="button" role="tab" aria-selected="false">Refor√ßo (8¬∫‚Äì9¬∫)</button>
                </div>
                <p id="campaign-desc" class="muted">Plano: li√ß√µes curtas, foco e revis√£o.</p>
            </div>

            <div id="campaign-map" class="campaign-map" aria-label="Mapa da campanha"></div>
        </div>


        <div id="level-selection-screen" class="screen">
            <header class="game-header">
                <button class="btn-secondary btn-voltar-home">Mudar Opera√ß√£o</button>
                <h1>Configura√ß√£o e N√≠vel</h1>
            </header>

            <div class="info-card">
                <h2>Selecione a Dificuldade</h2>
                <p>O n√≠vel de dificuldade define a complexidade das quest√µes e, no Modo R√°pido, o tempo limite, que √© dobrado caso a Acessibilidade (Voz ou Libras) esteja ativa, conforme a regra do jogo.</p>
            </div>

            <div class="level-selection">
                <button class="level-btn" data-level="easy">
                    <h3>F√°cil (üë∂)</h3>
                    <p>Ideal para iniciantes. N√∫meros e tabuadas menores (Tempo Base: 15s).</p>
                </button>
                <button class="level-btn" data-level="medium">
                    <h3>M√©dio (üß†)</h3>
                    <p>Desafio moderado. Tabuadas m√©dias, pot√™ncias e ra√≠zes simples (Tempo Base: 30s).</p>
                </button>
                <button class="level-btn" data-level="advanced">
                    <h3>Avan√ßado (üöÄ)</h3>
                    <p>Para mestres. Pot√™ncias e ra√≠zes complexas, tabuadas e n√∫meros altos (Tempo Base: 45s).</p>
                </button>
            </div>

            <p style="text-align: center; margin-top: 20px; font-weight: 600; color: var(--cor-secundaria);">
                O Modo de Jogo (R√°pido/Estudo) e Acessibilidade j√° foram definidos. Clique em um n√≠vel para iniciar o desafio!
            </p>
        </div>


        <div id="game-screen" class="screen">
            <header class="game-header">
                <button class="btn-secondary btn-quit-game">SAIR</button>
                <div class="score-info">
                    <span id="player-score">0 Pontos</span>
                    <span id="player-xp">XP: 0</span>
                </div>
            </header>
            <div id="mentor-float" class="mentor-float" aria-label="Mentor">
                <img id="mentor-avatar" src="ronaldo.png" alt="Mentor" class="mentor-avatar">
                <div id="mentor-bubble" class="mentor-bubble hidden" role="status" aria-live="polite"></div>
            </div>


            <div id="timer-container" class="time-container">
                <div id="time-bar" style="width: 100%; background-color: var(--cor-sucesso);"></div>
            </div>

            <div class="question-area info-card">
                <p id="question-counter">Quest√£o: 1/20</p>
                <h1 id="question-text">5 + 5 = ?</h1>
            </div>

            <div class="game-tools" aria-label="Ferramentas">
                <button id="btn-hint" type="button" class="tool-btn">üß© Dica</button>
                <button id="btn-toggle-input" type="button" class="tool-btn">‚å®Ô∏è Digitar</button>
            </div>

            <div id="hint-panel" class="hint-panel hidden" role="region" aria-label="Dicas">
                <div class="hint-head">
                    <span id="hint-title" class="hint-title">T√°tica</span>
                    <button id="btn-close-hint" type="button" class="hint-close" aria-label="Fechar">‚úï</button>
                </div>
                <div id="hint-body" class="hint-body"></div>
                <button id="btn-next-hint" type="button" class="btn-primary hint-next">Pr√≥xima dica</button>
            </div>
<button id="btn-submit-typed" type="button" class="btn-primary typed-submit">Responder</button>
            </div>

            <div id="microcheck-overlay" class="modal-overlay hidden" role="dialog" aria-modal="true" aria-label="Checkpoint r√°pido">
                <div class="modal-card">
                    <h3 class="modal-title">Checkpoint r√°pido</h3>
                    <p id="microcheck-question" class="modal-text">Pergunta</p>
                    <div class="modal-actions">
                        <button id="microcheck-btn-a" type="button" class="btn-secondary">A</button>
                        <button id="microcheck-btn-b" type="button" class="btn-primary">B</button>
                    </div>
                </div>
            </div>


            <div class="options-grid answers-grid">
                <button class="answer-option btn-answer">
                    <span class="answer-text">1</span>
                </button>
                <button class="answer-option btn-answer">
                    <span class="answer-text">2</span>
                </button>
                <button class="answer-option btn-answer">
                    <span class="answer-text">3</span>
                </button>
                <button class="answer-option btn-answer">
                    <span class="answer-text">4</span>
                </button>
            </div>

            <div class="action-buttons game-actions">
                <button class="btn-action" id="btn-extend-time" style="display: none;">
                    ‚è±Ô∏è Prorrogar Tempo (<span id="extend-time-cost">100</span> XP)
                </button>
                <button class="btn-action" id="btn-show-answer" style="display: none;">
                    üí° Mostrar Resposta
                </button>
            </div>
        </div>

        <div id="result-screen" class="screen">
            <header>
                <h1>Resultado da Rodada</h1>
            </header>
            
            <div class="info-card result-summary">
                <h2 style="text-align: center;">Pontua√ß√£o Final: <span id="final-score">0</span></h2>
                <p id="study-suggestion" class="suggestion"></p>
                
                <div class="result-details">
                    <div class="result-item">
                        <span class="stat-label">Acertos:</span>
                        <p id="total-hits" class="correct-answer">0</p>
                    </div>
                    <div class="result-item">
                        <span class="stat-label">Erros:</span>
                        <p id="total-misses" class="wrong-answer">0</p>
                    </div>
                </div>

                <div class="xp-summary" style="text-align: center; margin-top: 15px;">
                    <p>XP Ganhos na Rodada: <span id="xp-gained" class="correct-answer">+0</span></p>
                    <p>XP Total: <span id="xp-total">0</span></p>
                </div>
            </div>

            <div class="footer-options">
                <button class="btn-primary btn-voltar-home" style="flex-grow: 1;">Novo Desafio</button>
                <button class="btn-secondary" id="btn-treinar-erros" style="display: none;">Treinar Erros</button>
            </div>
        </div>
        
        <div id="ranking-screen" class="screen">
            <header class="game-header">
                <button class="btn-secondary btn-voltar-home">Voltar</button>
                <h1>Ranking de Recordes</h1>
            </header>

            <div class="ranking-container">
                <p id="no-records-message" class="incentive-message hidden">Nenhum recorde registrado ainda. Comece a jogar!</p>
                <div id="ranking-list-container">
                    </div>
            </div>
            <button class="btn-action btn-secondary" id="btn-clear-ranking">Limpar Ranking</button>
        </div>

        <div id="error-training-screen" class="screen">
            <header class="game-header">
                <button class="btn-secondary btn-voltar-home">Voltar</button>
                <h1>Treinamento de Erros</h1>
            </header>

            <div class="info-card">
                <p id="error-count-message">Carregando erros...</p>
            </div>
            
            <button class="btn-primary" id="btn-start-training" disabled>Come√ßar Treinamento</button>

            <h2 style="margin-top: 30px; font-size: 1.2em;">√öltimos Erros Salvos:</h2>
            <div id="error-list-container">
                </div>
            
            <button class="btn-action btn-secondary" id="btn-clear-errors" disabled>Limpar Erros Salvos</button>
        </div>


        </div>

    <audio id="alert-sound" src="alert-sound.mp3" preload="auto"></audio> 

    
    <nav class="bottom-nav" aria-label="Navega√ß√£o">
        <button id="nav-home" class="nav-item active" type="button" aria-label="Home">
            <span class="nav-ico">üè†</span><span class="nav-txt">Home</span>
        </button>
        <button id="nav-campaign" class="nav-item" type="button" aria-label="Campanha">
            <span class="nav-ico">üó∫Ô∏è</span><span class="nav-txt">Campanha</span>
        </button>
        <button id="nav-review" class="nav-item" type="button" aria-label="Revis√£o">
            <span class="nav-ico">üß†</span><span class="nav-txt">Revis√£o</span>
        </button>
        <button id="nav-profile" class="nav-item" type="button" aria-label="Perfil">
            <span class="nav-ico">üë§</span><span class="nav-txt">Perfil</span>
        </button>
    </nav>

<div vw class="enabled">
        <div vw-access-button class="active"></div>
        <div vw-plugin-wrapper>
            <div class="vw-plugin-top-wrapper"></div>
        </div>
    </div>
<script src="script.js"></script>
  <div id="vlibras-root"></div>
  <script src="a11y.js"></script>

  <!-- Modal: continuar ou novo jogo (campanha) -->
  <div id="resume-modal" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="resume-title">
    <div class="modal-card">
      <h3 id="resume-title" class="h2">Campanha</h3>
      <p class="muted">Voc√™ quer continuar de onde parou ou come√ßar um novo jogo?</p>
      <div class="row gap">
        <button id="btn-resume-campaign" class="btn">Continuar</button>
        <button id="btn-new-campaign" class="btn secondary">Novo jogo</button>
      </div>
      <button id="btn-close-resume" class="btn ghost modal-close" aria-label="Fechar">Fechar</button>
    </div>
  </div>

</body>
</html>